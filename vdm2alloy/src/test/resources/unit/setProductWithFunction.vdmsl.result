"module setProductWithFunction.vdmsl\n\nopen util/relation\nopen util/boolean\nopen vdmutil\n\n/************************   Country   ************************/\nsig char{}\nsig Country{\n\tx: seq char\n}\nfact CountrySet{\nall c1,c2 : Country | c1.x = c2.x implies c1=c2\n}\n\n/************************   Relation   ************************/\nsig CountryCountryProduct{\n\tfst: one Country, \n\tsnd: one Country\n}\nfact CountryCountryProductF{\nall x1,x2 : CountryCountryProduct | (x1.fst = x2.fst and x1.snd = x2.snd) implies x1=x2\n}\n\nsig setOfCountryCountry{\n\tcontentsCountryCountry: set CountryCountryProduct\n}\nfact CountryCountrySet{\nall c1,c2 : setOfCountryCountry | c1.contentsCountryCountry = c2.contentsCountryCountry implies c1 = c2\n}\n\nsig Relation in univ{}\nfact RelationInv{\nRelation = { x : setOfCountryCountry | let r = x.contentsCountryCountry | isRelation[r]  }\n}\n\npred isRelation(r: Relation)\n{\tlet r = r.contentsCountryCountry | /* Body */\t\n\t( all c1 : Country, c2 : Country | \n\t\t(c1 in r.fst and c2 in r.snd implies \n\t\t\t(c1 != c2)\n\t\t)\n\t)\n\n}\n\nrun isRelation\n"